<app-page>
  <app-page-header>
    <a mat-icon-button routerLink="../" routerLinkActive="active">
      <mat-icon>arrow_back</mat-icon>
    </a>
    <span page-title>Create Company</span>
  </app-page-header>

  <app-page-content>
    <form container name="createCompanyForm" #form="ngForm" autocomplete="off" novalidate (ngSubmit)="onSubmit(form)">
      <mat-card class="card1">
        <div class="URL">
          <img src="{{createCompany.logoURL|| 'assets/images/logo.PNG'}}">
          <mat-form-field appearance="outline" class="logoURL">
            <mat-label>Logo URL</mat-label>
            <input class="logo" tabindex="1" matInput type="text" name="url" required #username="ngModel"
              [(ngModel)]="createCompany.logoURL">
            <mat-error *ngIf="form?.controls?.url?.errors">
              <span *ngIf="form?.controls?.url?.errors?.required">
                You must enter a url!
              </span>
            </mat-error>

          </mat-form-field>
          <mat-slide-toggle>Active</mat-slide-toggle>
        </div>

        <mat-form-field appearance="outline" class="name">
          <mat-label>Name</mat-label>
          <input tabindex="2" matInput type="text" name="name" required #username="ngModel"
            [(ngModel)]="createCompany.name">
          <mat-error *ngIf="form.controls.name.errors">
            <span *ngIf="form.controls.name.errors.required">
              You must enter a name!
            </span>
          </mat-error>
        </mat-form-field>

      </mat-card>

      <mat-card class="card2">
        <p>Contact Info</p>
        <mat-form-field appearance="outline" class="phone">
          <mat-label>Phone</mat-label>
          <input tabindex="3" matInput type="phone" name="phone" required #phone="ngModel"
            [(ngModel)]="createCompany.phone" placeholder="(+84)" pattern="^((\\+84-?)|0)?[0-9]{10}$">
          <mat-error *ngIf="phone.errors">
            <span *ngIf="phone.errors.required">
              You must enter a phone!
            </span>
            <span *ngIf="phone.errors.pattern">
              Required: (+84||0)[0-9]!
            </span>
          </mat-error>
        </mat-form-field>

        <div class="content">
          <mat-form-field appearance="outline" class="email">
            <mat-label>Email</mat-label>
            <input tabindex="4" matInput type="email" name="email" required #name="ngModel"
              [(ngModel)]="createCompany.email" placeholder="your@example.com"
              pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
            <mat-error *ngIf="name.errors">
              <span *ngIf="name.errors.required">
                You must enter a email!
              </span>
              <span *ngIf="name.errors?.pattern">
                Required: a@gmail.com!
              </span>
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="website">
            <mat-label>Website</mat-label>
            <input tabindex="5" matInput type="text" name="website" required #username="ngModel"
              [(ngModel)]="createCompany.website" placeholder="http://">
            <mat-error *ngIf="form.controls.website.errors">
              <span *ngIf="form.controls.website.errors.required">
                You must enter a website!
              </span>
            </mat-error>
          </mat-form-field>
        </div>

        <p>Adrress</p>
        <mat-form-field appearance="outline" class="address">
          <mat-label>Address</mat-label>
          <input tabindex="6" matInput type="text" name="address" required #username="ngModel"
            [(ngModel)]="createCompany.address">
          <mat-error *ngIf="form.controls.address.errors">
            <span *ngIf="form.controls.address.errors.required">
              You must enter a Address!
            </span>
          </mat-error>
        </mat-form-field>
      </mat-card>

      <div class="example-button-row">
        <button mat-raised-button color="accent" type="submit" [disabled]="( companies$ | async)">Create</button>
      </div>

    </form>
  </app-page-content>
</app-page>